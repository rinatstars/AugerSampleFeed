# Auger Sample Introduction System

**Auger Sample Introduction System** ‚Äî —ç—Ç–æ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–∞—á–∏ –æ–±—Ä–∞–∑—Ü–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å RS232 (VMK Protocol, CRC7).
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—É —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ—Ç–æ—Ä–∞–º–∏ –∏ –∫–ª–∞–ø–∞–Ω–∞–º–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π.

---

## üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –ø–æ COM-–ø–æ—Ä—Ç—É (–≤—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏).
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ (–ú1, –ú2): –≤–ø–µ—Ä—ë–¥, –Ω–∞–∑–∞–¥, —Å—Ç–æ–ø.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º (–°–¢–ê–†–¢ / –°–¢–û–ü).
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
   - SET_PERIOD_M1, SET_PERIOD_M2
   - PERIOD_M1, PERIOD_M2
   - T_START, T_GRIND, T_PURGING
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (START, BEG_BLK, END_BLK, M1_FWD, M2_BACK –∏ –¥—Ä.).
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (VERIFY CODE).
- –ñ—É—Ä–Ω–∞–ª –∫–æ–º–∞–Ω–¥ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ç–º–µ—Ç–∫–æ–π.
- –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

---

## üñºÔ∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å GUI

–û–∫–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–Ω–µ–ª–µ–π:

- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** ‚Äî –≤—ã–±–æ—Ä COM-–ø–æ—Ä—Ç–∞, —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±–º–µ–Ω–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ.
- **–°—Ç–∞—Ç—É—Å** ‚Äî —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è).
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–µ—Ä–∏–æ–¥—ã (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä—ã).
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –∫–Ω–æ–ø–∫–∏ –°–¢–ê–†–¢/–°–¢–û–ü, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏.
- **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
- **–°–≤—è–∑—å** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–∫–Ω–∞ –∏ –æ–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö.
- **–ñ—É—Ä–Ω–∞–ª –∫–æ–º–∞–Ω–¥** ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–≤–µ—Ç–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ—Ä—Ç, —Å–∫–æ—Ä–æ—Å—Ç—å, ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞) –∑–∞–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ GUI.
–î–ª—è —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è VMK Protocol —Å CRC7.

–¢–∞–∫ –∂–µ, —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `config.json`:

```json
{
  "port": "COM4",
  "baudrate": 38400,
  "device_id": 3
}
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
FlowSensor/
‚îú‚îÄ‚îÄ config.json                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ constants.py                 # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä—ã Modbus
‚îú‚îÄ‚îÄ crc.py                       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CRC16
‚îú‚îÄ‚îÄ device_controller.py         # –õ–æ–≥–∏–∫–∞ –æ–±–º–µ–Ω–∞ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –ø–æ TCP Modbus
‚îú‚îÄ‚îÄ serial_device_controller.py  # –õ–æ–≥–∏–∫–∞ –æ–±–º–µ–Ω–∞ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –ø–æ Serial Modbus
‚îú‚îÄ‚îÄ gui.py                       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Tkinter)
‚îú‚îÄ‚îÄ main.pyw                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–±–µ–∑ –∫–æ–Ω—Å–æ–ª–∏)
‚îî‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üöÄ –ó–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `config.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ COM –ø–æ—Ä—Ç/—Å–∫–æ—Ä–æ—Å—Ç—å/ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ COM-–ø–æ—Ä—Ç.
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:
   ```bash
   pythonw main.pyw
   ```

   *(–Ω–∞ Windows –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ –±–µ–∑ –∫–æ–Ω—Å–æ–ª–∏, –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `python main.pyw`)*

---

## üìä –ñ—É—Ä–Ω–∞–ª –∫–æ–º–∞–Ω–¥

–í –∂—É—Ä–Ω–∞–ª –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–≤–µ—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ó–∞–ø–∏—Å—å –≤–∫–ª—é—á–∞–µ—Ç:
- –í—Ä–µ–º—è
- –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—Ä–µ–≥–∏—Å—Ç—Ä –∏ –∑–Ω–∞—á–µ–Ω–∏–µ)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏—è
- –û—à–∏–±–∫–∏ —Å–≤—è–∑–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## üß± –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–º. `requirements.txt`. –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- `tkinter` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `pyserial` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å COM-–ø–æ—Ä—Ç–æ–º

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Å VMK Protocol (RS232, CRC7).
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏—è –∑–∞—â–∏—â–µ–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∫–æ–ª–ª–∏–∑–∏–π.
